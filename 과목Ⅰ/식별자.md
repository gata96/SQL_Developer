# 1. 식별자(Identifiers) 개념

- 여러 개의 집합체를 담고 있는 하나의 통에서 각각을 구분할 수 있는 논리적인 이름이 있어야 한다. 이 구분자를 식별자(Identifier)라고 한다. 식별자란 하나의 엔티티에 구성되어 있는 여러 개의 속성 중에서 엔티티를 대표할 수 있는 속성을 의미하며 하나의 엔티티는 반드시 하나의 유일한 식별자가 존재해야 한다.

- 여기서 식별자와 키를 동일하게 생각하는 경우가 있는데 식별자라는 용어는 업무적으로 구분이 되는 정보로 생각할 수 있으므로 논리 데이터 모델링 단계에서 사용하고, 키는 데이터베이스 테이블에 접근을 위한 매개체로서 물리 데이터 모델링 단계에서 사용한다.

# 2. 식별자의 특징

#### 1) 주식별자에 의해 엔티티 내에 모든 인스턴스들이 유일하게 구분되어야 한다.
- 사원번호 = 주식별자
- 이름은 동명이인이 많기 때문에 주식별자가 될 수 없다.


#### 2) 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 한다.
- 사원번호만으로도 고유한 구조인데 사원분류코드 + 사원번호로 식별자가 구성될 경우 부적절한 주식별자 구조임 

#### 3) 지정된 주식별자의 값은 자주 변하지 않는 것이어야 한다.
- 사원번호의 값이 변한다는 의미는 이전기록이 말소되고 새로운 사원번호가 발급된다는 개념임
#### 4) 주식별자가 지정이 되면 반드시 값이 들어와야 한다. (Null 값 안됨)
- 사원번호 없는 회사직원은 있을 수 없음 

# 3. 식별자 분류
분류|식별자|설명
:-:|-|-|
대표성 여부|주 식별자<br>보조 식별자|대표성을 가진다.<br>대표성을 갖지 못한다.|
스스로 생성 여부|내부 식별자 <br> 외부 식별자 |엔티티 내부에서 스스로 만들어지는 식별자<br>타 엔티티와의 관계를 통해 타 엔티티로부터 받아오는 식별자|
속성의 수|단일 식별자<br>복합 식별자|하나의 속성으로 구성된 식별자<br>둘 이상의 속성으로 구성된 식별자(너무 많아지지 않도록 주의)|
업무여부|본질 식별자<br>인조 식별자|업무에 의해 만들어지는 식별자<br>업무적으로 만들어지지는 않지만 원조식별자가 복잡한 구성을 가지고 있기 때문에 인위적으로 만든 식별자|

# 4. 주식별자 도출기준
- 해당 업무에서 자주 이용되는 속성을 주식별자로 지정한다.

- 명칠, 내역 등과 같이 이름으로 기술되는 것들은 가능하면 주식별자로 지정하지 않는다.

- 복합으로 주식별자로 구성할 경우 너무 많은 속성이 포함되지 않도록 한다.

# 5. 식별자 관계와 비식별자 관계

### 식별자 관계 
- 자식엔티티의 주식별자로 부모의 주식별자가 상속이 되는 경우를 식별자관계

### 비식별자 관계
- 부모엔티티로부터 속성을 받았지만 자식엔티티의 주식별자로 사용하지 않고 일반적인 속성으로만 사용하는 경우를 비식별자 관계

- 다음 네가지 경우에 비식별자 관계에 의한 외부속성을 생성한다.
1) 자식엔티티에서 받은 속성이 반드시 필수가 아니어도 무방하기 때문에 부모 없는 자식이 생성될 수 있는 경우

2) 엔티티별로 데이터의 생명주기를 다르게 관리할 경우 - 예) 부모와 자식이 각자 다른 시간에 소멸되는 경우에 비식별자 관계가 유리하다.

3) 여러 개의 엔티티가 하나의 엔티티로 통합되어 표현되었는데 각각의 엔티티가 별도의 관계를 가질 때

4) 자식엔티티에 주식별자로 사용해도 되지만 자식엔티티에서 별도의 주식별자를 생성하는 것이 더 유리하다고 판단 될 때

### 식별자 관계로만 설정할 경우의 문제점
- 주식별자의 속성 수가 많아짐 

### 비식별자 관계로만 설정할 경우의 문제점
각 엔티티간의 관계를 비식별자 관계로 설정하면 속성들이 `자식엔티티로 상속이 되지 않아 자식엔티티에서 데이터를 처리할 때 쓸떼없이 부모엔티티까지 찾아가야` 하는 경우가 발생된다.


이렇게 비식별자 관계로만 데이터모델링을 전개할 경우, SQL 구분에 `많은 조인`이 걸리게 되고 그에 따라 `복잡성이 증가하고 성능이 저하`되게 된다.